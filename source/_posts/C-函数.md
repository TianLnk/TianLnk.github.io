title: C/C++函数
author: 田亮
abbrlink: 119f
tags:
  - C
categories:
  - C
date: 2019-05-14 15:33:00
---
函数就是功能,每一个函数用来实现一个特定的功能.
在设计一个较大的程序时,往往把它分为若干块.每一块就是一个或多个函数
<!--more-->
## 函数的定义
C语言要求,函数必须**先定义,后使用**
定义一个函数应包括:
1. 指定函数的名字
2. 指定函数的类型
3. 指定函数的参数的名字和类型
4. 指定函数应当完成什么操作,也就是函数是做什么的

```C
#include <stdio.h>
int main(){
	a();//函数调用
}
int a(){//这就是一个函数 ()里面默认位void.表示为空
	printf("函数体\n");
}
```
## 有参函数定义
绝大部分函数都要有返回值,有返回值就要有参数进来进行运算
```C
#include <stdio.h>
int main(){
	int i=10,k=80,max=a(i,k);
	printf("MAX:%d\n",max);
}
int a(int i,int k){
	int max=i>k?i:k;
	return max;
}
```
## 函数调用时的数据传递
在调用函数时,主调函数和被调用函数之间有数据传递关系.
在定义函数时函数名后面括号中的变量名称为"**形式参数**"简称"形参".在主调函数中调用一个函数时,函数名后面括号中的参数称为"**实际参数**",简称"实参".实参可以是常量,变量或者表达式
在函数调用中,系统会把实参的值传递给被调用函数的形参.或者说,形参从实参得到一个值.该值在函数调用期间有效
在调用函数过程中发生的实参与形参间的数据传递称之为"**虚实结合**"
## 函数的返回值
函数的返回值通过函数中的"**return**"语句获得的
当函数执行到return时,返回到主调函数.如果不需要返回数据可以不写返回语句或者**return 0**返回空值
在定义函数时指定的函数类型一般应该和return语句中的表达式类型一致.如果函数值的类型和return语句中表达式的值不一致,则以函数类型为准.对数值类型数据,可自动进行类型转换.即**函数类型决定返回值的类型**
## 对被调函数进行声明
在一个函数中调用另一个函数需要具备:
1. 首先被调用的函数必须是已经定义的函数
2. 如果使用库函数,应该在本文件开头用 #include 指令将调用有关库函数时所需要用到的信息"包含"到本文件中.即调用库函数需要先调用函数所在的文件
3. 如果使用用户自己定义的函数,该函数的位置在调用它的函数(主调函数)的后面(在同一个文件中),应该在主调函数中对被调函数进行声明

```C
#include <stdio.h>
int main(){
	int a(int,int);
	//声明函数类型.可以不写参数名,只写参数类型.
	//因为系统这时并不调用什么,只是开辟出相应的空间
	//所以,参数名可有可无
	int b(int i,int k);
	int i=10,k=80,max=a(i,k),min=b(i,k);
	printf("MAX:%d\n",max);
	printf("MIN:%d\n",min);
}
int a(int i,int k){
	int max=i>k?i:k;
	return max;
}
int b(int i,int k){
	int min=i<k?i:k;
	return min;
}
```
## 函数的递归调用
在调用一个函数的过程中又出现**直接或间接地调用该函数本身,称之为函数的递归调用**
```C
#include <stdio.h>
int main(){
	int i=10;
	i=a(i);
	printf("%d\n",i);
}
int a(int k){
	int f;
	k--;
	if(k>=5){//执行5次
		f=a(k);
	}
	return f;
}
```
## 局部变量和全局变量
### 局部变量
在一个函数内部定义的变量只在本函数范围内有效,也就是说只有在本函数才能够引用他们.在此函数以外是不能够引用的
在复合语句内定义的变量只能在本复合语句中使用.在复合语句外无法使用.
这种变量称之为**局部变量**
```C
#include <stdio.h>
int main(){
	int i=10;
	if(i==5){
		int a=5;//只能在这个语句内使用
	}
	printf("%d\n",a);//无法调用a,会报错.
}
int b(){
	i++;//也无法使用.报错
}
```
### 全局变量
在函数内定义的变量是**局部变量**,在函数外定义的变量就是**全局变量**
```C
#include <stdio.h>
int a=10;//我是全局变量,哪里都可以使用
int main(){
	printf("%d\n",a);
	b();
}
int b(){
	printf("%d\n",a);
}
```
